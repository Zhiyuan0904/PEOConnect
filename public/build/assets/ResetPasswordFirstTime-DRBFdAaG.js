import{r as a,u as x,c as l,b as s,w as h,f as m,g as v,i as g,n as _,d as P,t as w,l as k,e as n,I as R}from"./app-BhsT9O-c.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"h-screen w-full flex items-center justify-center font-sans bg-gradient-to-br from-[#fce4ec] via-[#f3e5f5] to-[#e3f2fd]"},B={class:"w-full max-w-md bg-white bg-opacity-60 backdrop-blur-lg rounded-2xl shadow-xl p-8"},C={class:"relative"},M=["type"],N={class:"relative"},S=["type"],D=["disabled"],q={key:0},z={key:1},A={key:0,class:"text-green-600 text-center text-sm"},F={key:1,class:"text-red-500 text-center text-sm"},I={__name:"ResetPasswordFirstTime",setup(U){const i=a(""),c=a(""),o=a(!1),u=a(!1),d=a(""),r=a(""),y=k(),p=x(),b=async()=>{var f,e;if(i.value!==c.value){r.value="❌ Passwords do not match.";return}try{u.value=!0,r.value="",d.value="",await R.post("/api/reset-password-first-time",{password:i.value},{headers:{Authorization:`Bearer ${p.token}`}}),d.value="✅ Password updated successfully! Redirecting...",setTimeout(()=>{p.logout(),y.push("/login")},1500)}catch(t){r.value=((e=(f=t.response)==null?void 0:f.data)==null?void 0:e.message)||"❌ Reset failed. Try again."}finally{u.value=!1}};return(f,e)=>(n(),l("div",V,[s("div",B,[e[6]||(e[6]=s("div",{class:"text-center mb-6"},[s("h2",{class:"text-3xl font-extrabold text-[#4072bc]"},"Reset Password"),s("p",{class:"text-gray-600 text-sm mt-1"},"This is your first login. Please reset your password.")],-1)),s("form",{onSubmit:h(b,["prevent"]),class:"space-y-5"},[s("div",C,[v(s("input",{type:o.value?"text":"password","onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),placeholder:"New Password",class:"w-full px-11 py-3 rounded-lg bg-white bg-opacity-80 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#a0c4ff]",required:""},null,8,M),[[g,i.value]]),e[3]||(e[3]=s("span",{class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#4072bc]"},[s("i",{class:"fas fa-lock"})],-1)),s("span",{onClick:e[1]||(e[1]=t=>o.value=!o.value),class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-[#4072bc] cursor-pointer"},[s("i",{class:_(o.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),s("div",N,[v(s("input",{type:o.value?"text":"password","onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t),placeholder:"Confirm Password",class:"w-full px-11 py-3 rounded-lg bg-white bg-opacity-80 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#a0c4ff]",required:""},null,8,S),[[g,c.value]]),e[4]||(e[4]=s("span",{class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#4072bc]"},[s("i",{class:"fas fa-lock"})],-1))]),s("button",{type:"submit",class:"w-full py-3 rounded-lg bg-gradient-to-r from-[#f07ba3] to-[#c4a8e3] hover:from-[#8475d2] hover:to-[#a7c8f8] text-white font-semibold transition duration-300 shadow-md",disabled:u.value},[u.value?(n(),l("span",z,e[5]||(e[5]=[P("Processing"),s("span",{class:"animate-pulse"},"...",-1)]))):(n(),l("span",q,"Reset Password"))],8,D),d.value?(n(),l("p",A,w(d.value),1)):m("",!0),r.value?(n(),l("p",F,w(r.value),1)):m("",!0)],32)])]))}},E=T(I,[["__scopeId","data-v-edf41e99"]]);export{E as default};
