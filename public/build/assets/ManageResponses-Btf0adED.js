import{r as a,o as C,c as r,b as e,f as S,m as $,g as j,v as M,d as R,F as f,z as y,t as n,j as _,e as d}from"./app-CLQc5iUQ.js";import{_ as A}from"./Sidebar-BuI_G_lZ.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"flex ml-[20%] min-h-screen bg-gradient-to-tr from-[#f4f4f4] to-[#f9fbfd] relative"},N={class:"flex-1 flex justify-center p-10 z-10"},z={class:"w-full max-w-6xl bg-white rounded-2xl shadow-xl p-10 relative"},B={class:"flex justify-end mb-8"},F={class:"flex items-center gap-2"},P={class:"overflow-x-auto"},L={class:"min-w-full text-sm border border-[#e3e3e3]"},T={class:"py-3 px-4"},U={class:"py-3 px-4"},q={class:"py-3 px-4"},E={class:"py-3 px-4 text-center"},I=["onClick"],Q=["onClick"],G={class:"flex justify-center mt-8 gap-4"},H=["disabled"],J={class:"px-4 py-2 font-semibold"},K=["disabled"],O={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50"},W={class:"bg-white w-full max-w-2xl p-8 rounded-lg shadow-lg"},X={class:"space-y-4 max-h-[500px] overflow-y-auto"},Y={class:"font-semibold"},Z={class:"text-gray-600 ml-2"},ee={class:"text-right mt-6"},te={__name:"ManageResponses",setup(se){const b=a([]),i=a(null),p=a(""),v=a(!1),l=a(1),x=a(1),c=async()=>{v.value=!0;try{const{data:o}=await _.get(`/survey-responses?page=${l.value}&search=${p.value}`);b.value=o.data,x.value=o.last_page}catch{alert("Failed to load responses")}finally{v.value=!1}},m=o=>{l.value=o,c()},h=()=>{l.value=1,c()},g=async o=>{if(confirm("Are you sure you want to delete this response?"))try{await _.delete(`/survey-responses/${o}`),c()}catch{alert("Failed to delete response")}},w=o=>{i.value=o},k=o=>{const t={year:"numeric",month:"short",day:"numeric"};return new Date(o).toLocaleDateString(void 0,t)};return C(c),(o,t)=>(d(),r(f,null,[e("div",V,[$(A),t[7]||(t[7]=e("div",{class:"absolute inset-0 flex justify-center items-center pointer-events-none"},[e("div",{class:"w-[550px] h-[550px] md:w-[700px] md:h-[700px] rounded-full blur-3xl opacity-50 bg-gradient-to-br from-[#e6c752] via-[#d98ab3] to-[#7caee6]"})],-1)),e("main",N,[e("div",z,[t[6]||(t[6]=e("h1",{class:"text-4xl font-bold text-[#4072bc] mb-10 text-center"},"Manage Survey Responses",-1)),e("div",B,[e("div",F,[j(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),type:"text",placeholder:"Search by title or user...",class:"w-80 border border-[#e3e3e3] rounded-full px-4 py-2 text-sm"},null,512),[[M,p.value]]),e("button",{onClick:h,class:"bg-gradient-to-r from-[#f07ba3] to-[#c4a8e3] hover:from-[#8475d2] hover:to-[#a7c8f8] text-white px-4 py-2 rounded-full text-sm flex items-center gap-2"},t[4]||(t[4]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-4.35-4.35M17 11A6 6 0 1 0 5 11a6 6 0 0 0 12 0z"})],-1),R(" Search ")]))])]),e("div",P,[e("table",L,[t[5]||(t[5]=e("thead",{class:"bg-[#f9fbfd]"},[e("tr",null,[e("th",{class:"py-3 px-4 text-left font-bold text-[#4072bc] border-b"},"Survey"),e("th",{class:"py-3 px-4 text-left font-bold text-[#4072bc] border-b"},"User"),e("th",{class:"py-3 px-4 text-left font-bold text-[#4072bc] border-b"},"Submitted At"),e("th",{class:"py-3 px-4 text-center font-bold text-[#4072bc] border-b"},"Actions")])],-1)),e("tbody",null,[(d(!0),r(f,null,y(b.value,s=>(d(),r("tr",{key:s.id,class:"hover:bg-[#f9fbfd]"},[e("td",T,n(s.survey_title),1),e("td",U,n(s.user_name),1),e("td",q,n(k(s.created_at)),1),e("td",E,[e("button",{onClick:u=>w(s),class:"bg-[#59a8f7] text-white font-semibold px-3 py-1 rounded mr-2 text-xs"},"View",8,I),e("button",{onClick:u=>g(s.id),class:"bg-red-400 text-white font-semibold px-3 py-1 rounded text-xs"},"Delete",8,Q)])]))),128))])])]),e("div",G,[e("button",{disabled:l.value===1,onClick:t[1]||(t[1]=s=>m(l.value-1)),class:"px-4 py-2 rounded-lg bg-gray-300 text-sm font-semibold"},"Prev",8,H),e("span",J,n(l.value)+" / "+n(x.value),1),e("button",{disabled:l.value===x.value,onClick:t[2]||(t[2]=s=>m(l.value+1)),class:"px-4 py-2 rounded-lg bg-gray-300 text-sm font-semibold"},"Next",8,K)])])])]),i.value?(d(),r("div",O,[e("div",W,[t[8]||(t[8]=e("h2",{class:"text-2xl font-bold mb-6 text-[#4072bc]"},"Survey Answers",-1)),e("div",X,[(d(!0),r(f,null,y(i.value.answers,(s,u)=>(d(),r("div",{key:u,class:"border-b pb-2"},[e("p",Y,n(u+1)+". "+n(s.question),1),e("p",Z,"Answer: "+n(s.response),1)]))),128))]),e("div",ee,[e("button",{onClick:t[3]||(t[3]=s=>i.value=null),class:"bg-[#4072bc] text-white px-5 py-2 rounded-lg"},"Close")])])])):S("",!0)],64))}},ae=D(te,[["__scopeId","data-v-6f6c8fc5"]]);export{ae as default};
