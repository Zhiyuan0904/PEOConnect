import{_ as g}from"./survey-BmmmGed4.js";import{_}from"./Sidebar-rajKNV1F.js";import{r as u,o as p,c as r,m as i,b as t,p as f,q as h,F as b,z as w,j as y,e as a,d as x,t as d}from"./app-BhsT9O-c.js";const k={class:"flex ml-[20%] min-h-screen bg-gradient-to-tr from-[#f4f4f4] to-[#f9fbfd]"},S={class:"flex-1 p-10 overflow-y-auto"},j={class:"flex justify-between items-center mb-10"},C={key:0,class:"text-center text-gray-500 py-10"},N={key:1,class:"text-center text-gray-500 py-10"},F={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},$={class:"flex-1 flex flex-col p-6"},B={class:"text-xl font-bold text-[#4072bc] mb-2"},M={class:"text-gray-600 flex-1"},V={class:"text-gray-400 text-sm mt-4"},q={class:"flex justify-around items-center bg-gray-50 p-4 border-t space-x-4"},D=["onClick"],I={__name:"ManageSurveys",setup(E){const l=u([]),n=u(!1),m=async()=>{n.value=!0;try{const s=await y.get("/surveys");l.value=s.data}catch(s){console.error(s),alert("Failed to load surveys.")}finally{n.value=!1}},v=async s=>{if(confirm("Are you sure you want to delete this survey?"))try{await y.delete(`/surveys/${s}`),l.value=l.value.filter(e=>e.id!==s),alert("Survey deleted successfully!")}catch(e){console.error(e),alert("Failed to delete survey.")}};return p(()=>{m()}),(s,e)=>{const c=h("router-link");return a(),r("div",k,[i(_),t("main",S,[t("div",j,[e[1]||(e[1]=t("h1",{class:"text-3xl font-bold text-[#4072bc]"},"Manage Surveys",-1)),i(c,{to:"/create/surveys",class:"bg-gradient-to-r from-[#f07ba3] to-[#c4a8e3] hover:from-[#8475d2] hover:to-[#a7c8f8] text-white font-semibold px-7 py-3 rounded-full transition duration-300 shadow-md text-center transition"},{default:f(()=>e[0]||(e[0]=[x(" + Create New Survey ")])),_:1})]),n.value?(a(),r("div",C,"Loading surveys...")):l.value.length===0?(a(),r("div",N," No surveys found. Create one! ")):(a(),r("div",F,[(a(!0),r(b,null,w(l.value,o=>(a(),r("div",{key:o.id,class:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition overflow-hidden flex flex-col"},[e[3]||(e[3]=t("img",{src:g,alt:"Survey Image",class:"h-48 w-full object-cover"},null,-1)),t("div",$,[t("h2",B,d(o.title),1),t("p",M,d(o.description),1),t("p",V,"Total Questions: "+d(o.questions.length),1)]),t("div",q,[i(c,{to:`/edit/surveys/${o.id}`,class:"w-28 flex items-center justify-center gap-2 bg-[#59a8f7] text-white font-semibold px-4 py-2 rounded-lg shadow-md hover:brightness-110 transition"},{default:f(()=>e[2]||(e[2]=[x(" Edit ")])),_:2},1032,["to"]),t("button",{onClick:L=>v(o.id),class:"w-28 flex items-center justify-center gap-2 bg-red-400 hover:bg-red-500 text-white font-semibold px-4 py-2 rounded-lg transition"}," Delete ",8,D)])]))),128))]))])])}}};export{I as default};
